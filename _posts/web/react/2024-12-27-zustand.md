---
title: react ìƒíƒœê´€ë¦¬(with:zustand)
date: 2024-12-27 00:00:00 +09:00
description: zustand ë‚´ìš© ì •ë¦¬
categories: [Web, React]
tags: [Front-End, React, Zustand]
hidden: false
image:
  path: /assets/img/logo/zustand_logo.jpg
  alt: Zustand
---


## Zustandë€?
`Zustand`ëŠ” ë…ì¼ì–´ë¡œ "ìƒíƒœ"ë¥¼ ì˜ë¯¸í•˜ë©°, ìƒíƒœ ê´€ë¦¬ì˜ ë³µì¡ì„±ì„ ìµœì†Œí™”í•˜ë©´ì„œë„ ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” React ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. `Redux`ì™€ ê°™ì€ ëŒ€ê·œëª¨ ìƒíƒœ ê´€ë¦¬ ë„êµ¬ì™€ëŠ” ë‹¬ë¦¬, ì‘ì€ ê·œëª¨ì—ì„œ ì‹œì‘í•˜ì—¬ ì ì§„ì ìœ¼ë¡œ í™•ì¥í•  ìˆ˜ ìˆëŠ” ìœ ì—°ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.

<br/>

---

## Zustandì˜ ì£¼ìš” íŠ¹ì§•

- **ê°„ê²°í•œ ìƒíƒœ ì •ì˜**<br/>
Zustandì—ì„œëŠ” ìƒíƒœì™€ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë¡œì§ì„ í•˜ë‚˜ì˜ ìŠ¤í† ì–´(store)ì—ì„œ ì •ì˜í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì½”ë“œ ê°€ë…ì„±ì´ í¬ê²Œ í–¥ìƒë©ë‹ˆë‹¤.

- **ì„ ì–¸í˜• ì½”ë“œ ì‘ì„± ê°€ëŠ¥**<br/>
Reactì˜ useStateì™€ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ìƒíƒœë¥¼ ì •ì˜í•  ìˆ˜ ìˆì–´ ì´ˆë³´ìë„ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **ë¹ ë¥¸ í¼í¬ë¨¼ìŠ¤**<br/>
ZustandëŠ” ìƒíƒœ ë³€ê²½ ì‹œ ì»´í¬ë„ŒíŠ¸ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ë‹¤ì‹œ ë Œë”ë§ë˜ëŠ” ë¬¸ì œë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì…€ë ‰í„°(selector)ì™€ ì–•ì€ ë¹„êµ(shallow equality)ë¥¼ í™œìš©í•©ë‹ˆë‹¤.

- **ë¯¸ë“¤ì›¨ì–´ ì§€ì›**<br/>
Redux DevToolsì™€ ê°™ì€ ë””ë²„ê¹… íˆ´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

<br/>

---

## Storeë€?
`Store`ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ `ì „ì—­ ìƒíƒœ`ë¥¼ ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê³³ì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ë°ì´í„° ê³µìœ ë¥¼ ì‰½ê²Œ ë§Œë“¤ê³ , ìƒíƒœë¥¼ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ì¤‘ì•™í™”ëœ ìƒíƒœ ê´€ë¦¬: ëª¨ë“  ìƒíƒœë¥¼ storeì— ì €ì¥í•¨ìœ¼ë¡œì¨ ì»´í¬ë„ŒíŠ¸ ê°„ ìƒíƒœ ê³µìœ ê°€ ê°„ë‹¨í•´ì§‘ë‹ˆë‹¤.
- ì˜ˆì¸¡ ê°€ëŠ¥ì„±: ìƒíƒœ ë³€í™”ê°€ í•œ ê³³ì—ì„œ ê´€ë¦¬ë˜ë¯€ë¡œ ìƒíƒœì˜ íë¦„ì„ ì˜ˆì¸¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì„± ì¦ê°€: ìƒíƒœë¥¼ `prop-drilling`(ë¶€ëª¨ â†’ ìì‹ ì „ë‹¬) ì—†ì´ `store`ì—ì„œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì„¤ê³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br/>

![prop-driling](/assets/img/posts/web/react/zustand/zustand_03.png){: width="300" height="300" }
_store_
  
<br/>

> **ì°¸ê³  ì‚¬í•­**<br/>
> `Prop Drilling`ì€ Reactì—ì„œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸(ìì‹, ì†ì ë“±)ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•´ propsë¥¼ ê³„ì¸µì ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” íŒ¨í„´ì„ ë§í•©ë‹ˆë‹¤.<br/> 
> ì´ ë°©ì‹ì€ Reactì˜ ê¸°ë³¸ ë°ì´í„° ì „ë‹¬ ë©”ì»¤ë‹ˆì¦˜ì´ì§€ë§Œ, ì»´í¬ë„ŒíŠ¸ ê³„ì¸µì´ ê¹Šì–´ì§ˆìˆ˜ë¡ ê´€ë¦¬ê°€ ì–´ë µê³  ë³µì¡í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
>![prop-driling](/assets/img/posts/web/react/zustand/zustand_02.png){: width="300" height="300" }
>_prop-driling_
>
{: .prompt-info }

<br/>

---

## Zustand ì„¤ì¹˜

```shell
npm install zustand
```

<br/>

---

## Zustand ê¸°ë³¸ ì‚¬ìš©ë²•

- `Store` ìƒì„±

```react
import { create } from 'zustand';

const useStore = create((set) => ({
  count: 0,
  increase: () => set((state) => ({ count: state.count + 1 })),
  decrease: () => set((state) => ({ count: state.count - 1 })),
}));
```

- `Component`ì—ì„œ ìƒíƒœ ì‚¬ìš©í•˜ê¸°
   
```react
import React from 'react';
import { useStore } from './store';

function Counter() {
  const { count, increase, decrease } = useStore();

  return (
    <div>
      <h1>Count: {count}</h1>
      <button onClick={increase}>Increase</button>
      <button onClick={decrease}>Decrease</button>
    </div>
  );
}

export default Counter;
```

- ìƒíƒœ ë¶„ë¦¬<br/>
ZustandëŠ” í•„ìš”í•œ ìƒíƒœë§Œ êµ¬ë…í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ìƒíƒœ ê´€ë¦¬ ë²”ìœ„ë¥¼ ì„¸ë¶„í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```react
function DisplayCount() {
  const count = useStore((state) => state.count);
  return <h1>Count: {count}</h1>;
}

function Controls() {
  const increase = useStore((state) => state.increase);
  const decrease = useStore((state) => state.decrease);

  return (
    <div>
      <button onClick={increase}>Increase</button>
      <button onClick={decrease}>Decrease</button>
    </div>
  );
}
```

<br/>

---

## Example
- ìŠ¤í† ì–´(store)ì— ì •ì˜ëœ ë¡œì§ ë¶„ë¦¬í•˜ì—¬ ì‚¬ìš©
  - useCountStore.jsx : countì˜ store
  - view.jsx : countë¥¼ ë³´ì—¬ì£¼ëŠ” component
  - updownButton.jsx : countë¥¼ ì¦ê°€, ê°ì†Œ button
  - resetButton.jsx : count ì´ˆê¸°í™” button
  - setCount.jsx : ì…ë ¥í•œ ê°’ìœ¼ë¡œ count ìˆ˜ì •


![zustand example](/assets/img/posts/web/react/zustand/zustand_01.png)
_zustand example_


```react
import './App.css';
import ResetButton from './components/resetButton';
import SetCount from './components/setCount';
import UpDownButton from './components/updownButton';
import View from './components/view';

function App() {
  return (
    <div className="App">
      <h1>Zustand Example</h1>
      <View/>
      <UpDownButton/>
      <ResetButton/>
      <SetCount/>
    </div>
  );
}

export default App;
```
{: file="app.js" }

```react
import { create } from 'zustand';

const useCountStore = create((set) => ({
    count: 0,
    increase: () => set((state) => ({ count: state.count + 1 })),
    decrease: () => set((state) => ({ count: state.count - 1 })),
    reset: () => set({ count: 0 }),
    setCount: (value) => set({ count: value })
}));

export default useCountStore;
```
{: file="useCountStore.jsx" }

```react
import useCountStore from "../store/useCountStore";

export default function View(){
    const { count } = useCountStore();
    return(
        <>
            <h2>count : {count}</h2>
        </>
    );
}
```
{: file="view.jsx" }


```react
import useCountStore from "../store/useCountStore";

export default function UpDownButton(){
    const { increase, decrease } = useCountStore();
    return(
        <p>
            <button onClick={increase}>+</button>
            <button onClick={decrease}>-</button>
        </p>
    );
}
```
{: file="updownButton.jsx" }


```react
import useCountStore from "../store/useCountStore";

export default function ResetButton(){
    const { reset } = useCountStore();
    return(
        <p>
            <button onClick={reset}>reset</button>
        </p>
    );
}
```
{: file="resetButton.jsx" }


```react
import { useState } from "react";
import useCountStore from "../store/useCountStore";

export default function SetCount(){
    const { setCount } = useCountStore();
    const [inputValue, setInputValue] = useState('');
    
    const handleInputChange = (e) => {
        setInputValue(e.target.value);
        };

    const handleSetCount = () => {
        const value = parseInt(inputValue, 10); // ë¬¸ìì—´ì„ 10ì§„ìˆ˜ ë³€í™˜
        if (!isNaN(value)) {
            setCount(value); // Zustand ìƒíƒœ ì—…ë°ì´íŠ¸
        } else {
            alert('ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        }
        setInputValue('');
        };

    return(
        <p>
            <input
                type="text"
                value={inputValue}
                onChange={handleInputChange}
                placeholder="ìˆ«ì ì…ë ¥"
                style={{ padding: '5px', marginRight: '10px' }}
            />
            <button onClick={handleSetCount}>Set Count</button>
        </p>
    );
}
```
{: file="setCount.jsx" }

<br/>

---

## ë§ˆë¬´ë¦¬

`zustand`ì— ëŒ€í•´ì„œ ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤. í•´ë‹¹ ë‚´ìš© ì´ì™¸ì—ë„ ë” ë§ì€ ë‚´ìš©ì´ ìˆê¸° ë•Œë¬¸ì— í•„ìš”í•˜ì‹œë©´ `ì°¸ê³  ìë£Œ`ë¥¼ ì°¸ì¡°í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

<br/>

ğŸ“‘ **ì°¸ê³  ìë£Œ**
- [zustand github](https://github.com/pmndrs/zustand)
- [HELOPY DEV](https://www.heropy.dev/p/n74Tgc)


<br/>
> í•´ë‹¹ ê¸€ì€ ì˜ëª»ë˜ê±°ë‚˜ ìƒˆë¡œìš´ ë‚´ìš©ì´ í™•ì¸ë˜ë©´ ì–¸ì œë“  ìˆ˜ì •ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
{: .prompt-info }
<br/>